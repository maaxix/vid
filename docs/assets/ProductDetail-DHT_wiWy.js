import{j as s}from"./index-DGs7CRWL.js";import{e as m,u as x,b as t,L as i}from"./react-WPAQU5kY.js";const g=()=>{const{id:a}=m(),c=x(),[e,l]=t.useState(null),[u,o]=t.useState(!0),[n,h]=t.useState(null);return t.useEffect(()=>{(async()=>{try{o(!0);const r=await fetch(`https://fakestoreapi.com/products/${a}`);if(!r.ok)throw new Error("Product not found");const p=await r.json();l(p)}catch(r){h(r instanceof Error?r.message:"Failed to fetch product"),console.error("Error fetching product:",r)}finally{o(!1)}})()},[a]),u?s.jsx("div",{className:"loading-container",children:s.jsx("p",{children:"Loading product details..."})}):n?s.jsxs("div",{className:"error-container",children:[s.jsx("h4",{children:"Error"}),s.jsx("p",{children:n}),s.jsx("button",{onClick:()=>c("/products"),className:"back-button",children:"Back to Products"})]}):e?s.jsxs("div",{className:"box",children:[s.jsxs("h4",{className:"flex card-header",children:[s.jsx("span",{className:"grow title-primary",children:"Product Details"}),s.jsxs("div",{className:"nav",children:[s.jsx("button",{onClick:()=>c(-1),className:"btn btn-round",children:s.jsx("i",{className:"icon icon-sun"})}),s.jsx("button",{onClick:()=>c(-1),className:"btn link back-buttonx",children:" ← Back"})]})]}),s.jsxs("div",{className:"card-body product-detail-grid",children:[s.jsx("div",{className:"product-image-container",children:s.jsx("img",{src:e.image,alt:e.title,className:"product-image",onError:d=>{d.target.src="https://via.placeholder.com/400"}})}),s.jsxs("div",{className:"product-info-container",children:[s.jsx("h4",{className:"product-title",children:e.title}),s.jsx("p",{className:"product-category",children:e.category}),s.jsxs("div",{className:"product-rating",children:[s.jsxs("span",{className:"rating-stars",children:["★".repeat(Math.round(e.rating.rate)),"☆".repeat(5-Math.round(e.rating.rate))]}),s.jsxs("span",{className:"rating-count",children:["(",e.rating.count," reviews)"]})]}),s.jsxs("p",{className:"product-price",children:["$",e.price.toFixed(2)]}),s.jsx("p",{className:"product-description",children:e.description}),s.jsx("button",{className:"add-to-cart-button",children:"Add to Cart"})]})]}),s.jsxs("div",{className:"card-body related-products-section",children:[s.jsx("h4",{className:"mb-2",children:"You may also like"}),s.jsx("div",{className:"related-products-grid",children:s.jsxs(i,{to:`/products/${(Number(a)+1)%20+1}`,className:"related-product",children:[s.jsx("img",{src:"https://via.placeholder.com/150",alt:"Related product"}),s.jsx("p",{children:"Related Product"})]})})]})]}):s.jsxs("div",{className:"not-found-container",children:[s.jsx("h4",{children:"Product Not Found"}),s.jsx("p",{children:"The requested product does not exist."}),s.jsx(i,{to:"/products",className:"back-link",children:"View all products"})]})};export{g as default};
